import React, { useEffect, useState } from "react";
import AnyChart from "anychart-react";
import anychart from "anychart";

const ChartComponent = () => {
	const [isLoaded, setIsLoaded] = useState(false);
	var chartData = anychart.data.set([
		[Date.UTC(2022, 0, 1), 23.55, 23.88, 23.38, 23.62],
		[Date.UTC(2022, 0, 2), 22.65, 23.7, 22.65, 23.36],
		[Date.UTC(2022, 0, 3), 22.75, 23.7, 22.69, 23.44],
		[Date.UTC(2022, 0, 4), 23.2, 23.39, 22.87, 22.92],
		[Date.UTC(2022, 0, 5), 23.98, 24.49, 23.47, 23.49],
		[Date.UTC(2022, 0, 6), 23.55, 23.88, 23.38, 23.62],
		[Date.UTC(2022, 0, 7), 23.88, 23.93, 23.24, 23.25],
		[Date.UTC(2022, 0, 8), 23.17, 23.4, 22.85, 23.25],
		[Date.UTC(2022, 0, 9), 22.65, 23.7, 22.65, 23.36],
		[Date.UTC(2022, 0, 10), 23.2, 23.39, 22.87, 22.92],
		[Date.UTC(2022, 0, 11), 23.03, 23.15, 22.44, 22.97],
		[Date.UTC(2022, 0, 12), 23.98, 24.49, 23.47, 23.49],
		[Date.UTC(2022, 0, 13), 22.75, 23.7, 22.69, 23.44],
		[Date.UTC(2022, 0, 14), 23.2, 23.39, 22.87, 22.92],
		[Date.UTC(2022, 0, 15), 23.88, 23.93, 23.24, 23.25],
		[Date.UTC(2022, 0, 16), 23.55, 23.88, 23.38, 23.62],
		[Date.UTC(2022, 0, 17), 23.98, 24.49, 23.47, 23.49],
		[Date.UTC(2022, 0, 18), 22.75, 23.7, 22.69, 23.44],
		[Date.UTC(2022, 0, 19), 23.2, 23.39, 22.87, 22.92],
		[Date.UTC(2022, 0, 20), 23.88, 23.93, 23.24, 23.25],
		[Date.UTC(2022, 0, 21), 22.75, 23.7, 22.69, 23.44],
		[Date.UTC(2022, 0, 22), 23.55, 23.88, 23.38, 23.62],
		[Date.UTC(2022, 0, 23), 23.55, 23.88, 23.38, 23.62],
		[Date.UTC(2022, 0, 24), 22.65, 23.7, 22.65, 23.36],
		[Date.UTC(2022, 0, 25), 22.75, 23.7, 22.69, 23.44],
		[Date.UTC(2022, 0, 26), 23.2, 23.39, 22.87, 22.92],
		[Date.UTC(2022, 0, 27), 23.98, 24.49, 23.47, 23.49],
		[Date.UTC(2022, 0, 28), 23.55, 23.88, 23.38, 23.62],
		[Date.UTC(2022, 0, 29), 23.88, 23.93, 23.24, 23.25],
		[Date.UTC(2022, 0, 30), 23.17, 23.4, 22.85, 23.25],
		[Date.UTC(2022, 0, 31), 22.65, 23.7, 22.65, 23.36],
		[Date.UTC(2022, 1, 1), 23.2, 23.39, 22.87, 22.92],
		[Date.UTC(2022, 1, 2), 23.03, 23.15, 22.44, 22.97],
		[Date.UTC(2022, 1, 3), 23.98, 24.49, 23.47, 23.49],
		[Date.UTC(2022, 1, 4), 22.75, 23.7, 22.69, 23.44],
		[Date.UTC(2022, 1, 5), 23.2, 23.39, 22.87, 22.92],
		[Date.UTC(2022, 1, 6), 23.88, 23.93, 23.24, 23.25],
		[Date.UTC(2022, 1, 7), 23.55, 23.88, 23.38, 23.62],
		[Date.UTC(2022, 1, 8), 23.98, 24.49, 23.47, 23.49],
		[Date.UTC(2022, 1, 9), 22.75, 23.7, 22.69, 23.44],
		[Date.UTC(2022, 1, 10), 23.2, 23.39, 22.87, 22.92],
		[Date.UTC(2022, 1, 11), 23.88, 23.93, 23.24, 23.25],
		[Date.UTC(2022, 1, 12), 22.75, 23.7, 22.69, 23.44],
		[Date.UTC(2022, 1, 13), 23.55, 23.88, 23.38, 23.62],
		[Date.UTC(2022, 1, 14), 23.55, 23.88, 23.38, 23.62],
		[Date.UTC(2022, 1, 15), 22.65, 23.7, 22.65, 23.36],
		[Date.UTC(2022, 1, 16), 22.75, 23.7, 22.69, 23.44],
		[Date.UTC(2022, 1, 17), 23.2, 23.39, 22.87, 22.92],
		[Date.UTC(2022, 1, 18), 23.98, 24.49, 23.47, 23.49],
		[Date.UTC(2022, 1, 19), 23.55, 23.88, 23.38, 23.62],
		[Date.UTC(2022, 1, 20), 23.88, 23.93, 23.24, 23.25],
		[Date.UTC(2022, 1, 21), 23.17, 23.4, 22.85, 23.25],
		[Date.UTC(2022, 1, 22), 22.65, 23.7, 22.65, 23.36],
		[Date.UTC(2022, 1, 23), 23.2, 23.39, 22.87, 22.92],
		[Date.UTC(2022, 1, 24), 23.03, 23.15, 22.44, 22.97],
		[Date.UTC(2022, 1, 25), 23.98, 24.49, 23.47, 23.49],
		[Date.UTC(2022, 1, 26), 22.75, 23.7, 22.69, 23.44],
		[Date.UTC(2022, 1, 27), 23.2, 23.39, 22.87, 22.92],
		[Date.UTC(2022, 1, 28), 23.88, 23.93, 23.24, 23.25],
		[Date.UTC(2022, 2, 1), 23.55, 23.88, 23.38, 23.62],
		[Date.UTC(2022, 2, 2), 22.65, 23.7, 22.65, 23.36],
		[Date.UTC(2022, 2, 3), 22.75, 23.7, 22.69, 23.44],
		[Date.UTC(2022, 2, 4), 23.2, 23.39, 22.87, 22.92],
		[Date.UTC(2022, 2, 5), 23.98, 24.49, 23.47, 23.49],
		[Date.UTC(2022, 2, 6), 23.55, 23.88, 23.38, 23.62],
		[Date.UTC(2022, 2, 7), 23.88, 23.93, 23.24, 23.25],
		[Date.UTC(2022, 2, 8), 23.17, 23.4, 22.85, 23.25],
		[Date.UTC(2022, 2, 9), 22.65, 23.7, 22.65, 23.36],
		[Date.UTC(2022, 2, 10), 23.2, 23.39, 22.87, 22.92],
		[Date.UTC(2022, 2, 11), 23.03, 23.15, 22.44, 22.97],
		[Date.UTC(2022, 2, 12), 23.98, 24.49, 23.47, 23.49],
		[Date.UTC(2022, 2, 13), 22.75, 23.7, 22.69, 23.44],
		[Date.UTC(2022, 2, 14), 23.2, 23.39, 22.87, 22.92],
		[Date.UTC(2022, 2, 15), 23.88, 23.93, 23.24, 23.25],
		[Date.UTC(2022, 2, 16), 23.55, 23.88, 23.38, 23.62],
		[Date.UTC(2022, 2, 17), 23.98, 24.49, 23.47, 23.49],
		[Date.UTC(2022, 2, 18), 22.75, 23.7, 22.69, 23.44],
		[Date.UTC(2022, 2, 19), 23.2, 23.39, 22.87, 22.92],
		[Date.UTC(2022, 2, 20), 23.88, 23.93, 23.24, 23.25],
		[Date.UTC(2022, 2, 21), 22.75, 23.7, 22.69, 23.44],
		[Date.UTC(2022, 2, 22), 23.55, 23.88, 23.38, 23.62],
		[Date.UTC(2022, 2, 23), 23.55, 23.88, 23.38, 23.62],
		[Date.UTC(2022, 2, 24), 22.65, 23.7, 22.65, 23.36],
		[Date.UTC(2022, 2, 25), 22.75, 23.7, 22.69, 23.44],
		[Date.UTC(2022, 2, 26), 23.2, 23.39, 22.87, 22.92],
		[Date.UTC(2022, 2, 27), 23.98, 24.49, 23.47, 23.49],
		[Date.UTC(2022, 2, 28), 23.55, 23.88, 23.38, 23.62],
		[Date.UTC(2022, 2, 29), 23.88, 23.93, 23.24, 23.25],
		[Date.UTC(2022, 2, 30), 23.17, 23.4, 22.85, 23.25],
		[Date.UTC(2022, 2, 31), 22.65, 23.7, 22.65, 23.36],
	]);

	const [chart, setChart] = useState();

	const btcChart = anychart.candlestick();
	const series = btcChart.candlestick(chartData);

	series.risingStroke("black");
	series.risingFill("#ff9900");
	series.fallingStroke("#ff9900");
	series.fallingFill("black");

	btcChart.background().fill("#ff990011");
	btcChart.yAxis().title("BTC price, $");

	useEffect(() => {
		btcChart.container("container");
		btcChart.draw();
		setChart(btcChart);
	}, []);

	return (
		<div id="container">
			<AnyChart instance={chart} width="100%" height="340px" />
		</div>
	);
};

export default ChartComponent;
